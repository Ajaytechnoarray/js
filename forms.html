<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    div {
        width: 50%;
        margin: 0 auto;
    }
</style>
<body>
    <div>
        <div class="message">
            <p style="display: none;"></p>
        </div>
        <form action="" name="form"  method="post">
            <label for="name">Name</label>
            <input type="text" id="name"><br>

            <label for="email">email</label>
            <input type="email" id="email"><br>

            <label for="password">password</label>
            <input type="password" id="password"><br>

            <label for="cpassowrd">confirm password</label>
            <input type="password" id="cpassowrd"><br>
            

            <input type="submit" value="submit" class="submit">
        </form>
    </div>

    <script>
        // let name = document.querySelector("#name")
        // let email = document.querySelector("#email")
        // let password = document.querySelector("#password")
        // let cpass = document.querySelector("#cpassowrd")
        // let submit = document.querySelector(".submit");

        // submit.addEventListener('click',function(e){
        //     console.log(e);
        //     e.preventDefault(); 


        //     if(name.value == '' || email.value == '' || password.value == '' || cpass.value == '')
        //     {
        //         alert('all fields are requred');
        //     }
        //     else 
        //     {
        //         if(password.value !== cpass.value)
        //         {
        //             alert('password do not matach');
        //             return false;
        //         }
        //         else 
        //         {
        //             document.querySelector("form").submit();
        //         }
        //     }

                
            
        // })
        // let form = querySelector("form");
        

        document.addEventListener('submit',function(e){
            e.preventDefault();
            let _this = this;
            let f = document.forms['form']
            let isValid = false;

            for(let i  = 0; i < f.length; i++)
            {
                console.log(i)
                if(f[i].value != 'submit')
                {
                    if(f[i].value != '')
                    {
                        isValid = true;
                    }
                    else 
                    {
                        f[i].style.border = 'solid 1px red';
                        isValid = false;
                    }

                    
                }           

                console.log(isValid);
            }

            if(isValid)
            {
                if(f[2].value == f[3].value)
                {
                    alert('form is valid')
                    document.querySelector("form").submit();
                }
                else 
                    alert('password do not match')
            }
            else 
            {
                document.querySelector('.message > p').textContent = 'All fields are requried'
                document.querySelector('.message > p').style.display = 'block'
            }
        })
        

    </script>
</body>
</html>